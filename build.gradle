buildscript {
	repositories {
		jcenter()
		maven { url = "https://files.minecraftforge.net/maven" }
		maven { url = "https://repo.spongepowered.org/maven" }
	}
	dependencies {
		classpath "net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT"
		classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.41"
		classpath "org.spongepowered:mixingradle:0.6-SNAPSHOT"
	}
}

apply plugin: "net.minecraftforge.gradle.liteloader"
apply plugin: "kotlin"
apply plugin: "org.spongepowered.mixin"

version = "1.0.0"
def mcVersion = "1.12"
def modName = "UsefulMod".toString()
def modId = modName.toLowerCase()
group = "nessiesson.$modId"

minecraft {
	version = mcVersion
	mappings = "stable_39"
	runDir = "run"
	makeObfSourceJar = false

	replace "@VERSION@", project.version
	replace "@NAME@", modName
}

mixin {
	defaultObfuscationEnv notch
	add sourceSets.main, "mixins.${modId}.refmap.json"
}

litemod.json {
	author = "nessie".toString()
	name = modName
	mcversion = mcVersion
	description = "A very UsefulMod."
	mixinConfigs += "mixins.${modId}.json".toString()
}

jar {
	classifier = ""
	baseName = "$modName-$mcVersion"
	from litemod.outputs
}

runClient {
	jvmArgs "-Dmixin.debug=true"
}

repositories {
	jcenter()
	maven { url "http://maven.shadowfacts.net/" }
}

dependencies.compile "net.shadowfacts:Forgelin:1.8.3"
